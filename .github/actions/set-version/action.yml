name: Set project version
inputs:
  file:
    description: path to .csproj
    required: true
  version:
    description: version in SemVer format
    required: true
  xpath:
    description: XPath to version element
    required: false
    default: '//PropertyGroup/Version'
outputs:
  version:
    description: version set to inputs.file
    value: ${{ steps.set.outputs.value }}
runs:
  using: composite
  steps:
  - id: set
    name: Set project version to ${{ inputs.file }}
    shell: bash
    run: |-
      csproj-version set --version ${{ inputs.version }} --xpath ${{ inputs.xpath }} ${{ inputs.file }}
      echo "value=$(csproj-version set --version ${{ inputs.version }} --xpath ${{ inputs.xpath }} ${{ inputs.file }})" >> $GITHUB_OUTPUT
